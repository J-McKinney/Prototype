(this.webpackJsonpPrototype=this.webpackJsonpPrototype||[]).push([[0],{23:function(e,t,n){e.exports=n(49)},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(20),o=n.n(i),s=n(22),l=n(7),c=n.n(l),d=function(e){return c.a.post("/api/sentences",e)},m=n(10),h=n(6),u=n(8),p=n(9);n(48);window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;let g=new window.SpeechRecognition;g.continous=!0,g.maxAlternatives=10,g.interimResults=!0,g.lang="en-US";let E="",b="",f=["Inside-Out","Incredible"];class S extends a.Component{constructor(e){super(e),this.handleInputChange=e=>{e.preventDefault();const t=e.target,n=t.name,a=t.value;this.setState({[n]:a})},this.stopRecording=()=>{this.setState({isRecording:!1})},this.onSave=e=>{this.setState({downloadLinkURL:e.blobURL})},this.onStop=e=>{this.setState({blobURL:e.blobURL})},this.state={listening:!1,sentence:"",downloadLinkURL:null,isRecording:!1,recordingStarted:!1,recordingStopped:!1},this.toggleListen=this.toggleListen.bind(this),this.handleListen=this.handleListen.bind(this),this.resetTranscripts=this.resetTranscripts.bind(this),this.submitTranscripts=this.submitTranscripts.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.randomWordGenerator=this.randomWordGenerator.bind(this)}toggleListen(){this.setState({listening:!this.state.listening,isRecording:!this.state.isRecording,recordingStarted:!this.state.recordingStarted,recordingStopped:!this.state.recordingStopped},this.handleListen)}handleListen(){this.state.listening?(g.start(),g.onend=()=>{g.start()}):(g.stop(),g.onend=()=>{}),E="",g.onresult=e=>{b="";for(let a=e.resultIndex;a<e.results.length;a++){const t=e.results[a][0].transcript;e.results[a].isFinal?E+=t+" ":b+=t}document.getElementById("interimTranscript").innerHTML=b,document.getElementById("finalTranscript").innerHTML=E;const t=E.split("  "),n=t.slice(-3,-1);"stop"===n[0]&&"listening"===n[1]&&(g.stop(),g.onend=()=>{const e=t.slice(0,-3).join(" ");document.getElementById("finalTranscript").innerHTML=e}),this.setState({sentence:t[0]})},g.onerror=e=>{console.log("Error occurred in recognition: "+e.error)}}resetTranscripts(){document.getElementById("interimTranscript").innerHTML=b="",document.getElementById("finalTranscript").innerHTML=E=""}submitTranscripts(){this.state.sentence&&d({sentence:this.state.sentence}).catch(e=>console.log(e))}onBlock(){console.log("onBlock")}randomWordGenerator(e){e.preventDefault();var t=Math.floor(Math.random()*f.length),n=f[t];document.getElementById("randomWordPlacement").innerHTML=n}render(){const e=this.state,t=e.blobURL,n=e.isRecording;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"wrapper"},r.a.createElement(u.a,{id:"randomWordContainer"},r.a.createElement(p.a,{id:"randomWordRow"},r.a.createElement(h.a,{id:"randomWordCol"},r.a.createElement("div",{id:"randomWordPlacement"},r.a.createElement("br",null))))),r.a.createElement(u.a,null,r.a.createElement(p.a,{id:"randomWordButtonRow"},r.a.createElement(m.a,{id:"randomWordButton",onClick:this.randomWordGenerator},r.a.createElement("div",{id:"newWordText"},"Click For New Word"))),r.a.createElement(p.a,{id:"oscilloscopeRow"},r.a.createElement(h.a,null,r.a.createElement(s.a,{className:"oscilloscope",record:n,backgroundColor:"#525252",visualSetting:"frequencyBars",audioBitsPerSecond:128e3,onStop:this.onStop,onSave:this.onSave,onBlock:this.onBlock,strokeColor:"#4bf7f7"}),r.a.createElement("div",{id:"audio-playback-controls"},r.a.createElement("audio",{ref:"audioSource",controls:"controls",src:t,controlsList:"nodownload"}))))),r.a.createElement(u.a,{id:"finalTranscriptContainer"},r.a.createElement("div",{id:"interimTranscript"}),r.a.createElement("div",{id:"finalTranscript",value:this.state.sentence,onChange:this.handleInputChange},r.a.createElement("br",null))),r.a.createElement(u.a,{id:"buttonContainer"},r.a.createElement(p.a,{id:"buttonRow"},r.a.createElement(h.a,null,r.a.createElement(m.a,{id:"recordButton",onClick:this.toggleListen},r.a.createElement("i",{id:"favIcon",className:"far fa-stop-circle"}))),r.a.createElement(h.a,null,r.a.createElement(m.a,{id:"resetButton",onClick:this.resetTranscripts},r.a.createElement("i",{id:"favIcon",className:"fas fa-undo"}))),r.a.createElement(h.a,null,r.a.createElement(m.a,{id:"submitButton",onClick:this.submitTranscripts},r.a.createElement("i",{id:"favIcon",className:"far fa-thumbs-up"})))))))}}var L=S;var T=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,null))};o.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.973733c7.chunk.js.map